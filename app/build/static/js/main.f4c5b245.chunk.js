(this["webpackJsonpurl-shortener"]=this["webpackJsonpurl-shortener"]||[]).push([[0],{35:function(e,t,a){e.exports=a(64)},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),c=a.n(l),o=(a(9),a(29)),i=a(30),s=a(34),m=a(33),u=a(15),d=a(1);var p=function(){return r.a.createElement("form",{action:"/"},r.a.createElement("button",{className:"btn-404"},r.a.createElement("i",{className:"fas fa-home fa-2x","aria-hidden":"true"})))},h=a(7),f=a.n(h),E=a(12),v=a(10),b=a(13),g=a.n(b);function y(e){var t=e.id,a=e.longUrl,n=e.shortUrl;function l(e){e.preventDefault();var t=document.querySelector("#clipper").value,a=document.querySelector(".tooltiptext");a&&!a.classList.contains("tooltip-visible")&&(a.classList.add("tooltipAnim"),a.classList.add("tooltip-visible"),setTimeout((function(){a&&(a.classList.remove("tooltip-visible"),a.classList.remove("tooltipAnim"))}),1e3)),function(e){var t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}(t)}return r.a.createElement("div",{className:"url-container"},r.a.createElement("div",{className:"clipboard-wrapper"},r.a.createElement("div",{className:"tooltip"},r.a.createElement("h2",{"data-clipboard":"",onClick:l},"Copy to clipboard"),r.a.createElement("a",{"data-clipboard":"",onClick:l,href:"./#"},r.a.createElement("i",{className:"fas fa-copy"})),r.a.createElement("span",{className:"tooltiptext"},"Copied!"))),r.a.createElement("a",{target:"_blank",href:a,rel:"noopener noreferrer",className:"shortened-link heroAnim"},"xs-url.fr/",t),r.a.createElement("input",{type:"hidden",value:"http://"+n,id:"clipper"}),r.a.createElement(p,null))}function k(){var e=Object(n.useState)({_id:"",longUrl:"",shortUrl:"",urlCode:"",date:"",createdAt:"",updatedAt:"",__v:0}),t=Object(v.a)(e,2),a=t[0],l=t[1],c=Object(d.g)().id;function o(){return(o=Object(E.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="/api/url/"+c,e.next=4,g.a.get(t);case 4:a=e.sent,l(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),window.location.href="/";case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[c]),a._id.length?r.a.createElement(y,{id:a._id,longUrl:a.longUrl,shortUrl:a.shortUrl}):r.a.createElement("div",{className:"hero-text"},r.a.createElement("h1",{className:""},"Loading..."))}var w=function(){var e=Object(d.h)();return r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"".concat(e.url,"/:id")},r.a.createElement(k,null)),r.a.createElement(d.b,{path:e.path},r.a.createElement(d.a,{to:"/"})))};var N=function(){var e=Object(n.useState)({isDarkMode:!1}),t=Object(v.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){var e=null!==localStorage.getItem("themeSwitch")&&"dark"===localStorage.getItem("themeSwitch"),t=document.querySelector("input[name=theme]");t&&(t.checked=e),e?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme")}));var c=function(){document.documentElement.classList.add("transition"),window.setTimeout((function(){document.documentElement.classList.remove("transition")}),750)};return r.a.createElement("div",{className:"toggle-container"},r.a.createElement("input",{onChange:function(){l({isDarkMode:!a.isDarkMode}),a.isDarkMode?(c(),localStorage.setItem("themeSwitch","dark"),document.documentElement.setAttribute("data-theme","dark")):(c(),localStorage.removeItem("themeSwitch"),document.documentElement.setAttribute("data-theme","light"))},type:"checkbox",id:"toggler",name:"theme"}),r.a.createElement("label",{htmlFor:"toggler"},"Toggle"))},x=a(32),O=a.n(x);var S=function(){var e=Object(n.useState)({value:"",errorMsg:""}),t=Object(v.a)(e,2),a=t[0],l=t[1];function c(e){return o.apply(this,arguments)}function o(){return(o=Object(E.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",t.length>0&&(O.a.isWebUri(t)||(a="URL not properly formatted")),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(E.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value.trim(),n=document.querySelector(".search-btn"),a.length>0&&n?(n.style.opacity="1",n.style.transform="rotate(0deg)"):(n.style.opacity="0",n.style.transform="rotate(45deg)"),e.next=5,c(a);case 5:r=e.sent,l({value:a,errorMsg:r});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hero-text"},r.a.createElement("h1",{className:"heroAnim"},"Dead simple URL shortener"),r.a.createElement("h2",{className:"heroAnim"},"Copy and paste your link below")),r.a.createElement("h1",null,a.errorMsg),r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("form",{method:"POST",action:"/",onSubmit:function(e){var t;e.preventDefault(),t=a.value,g.a.post("/api/url/shorten",{longUrl:t}).then((function(e){window.location.href="/link/"+e.data.urlCode,console.log(e)})).catch((function(e){console.log(e)}))},className:"shorten-form"},r.a.createElement("input",{onChange:function(e){return i.apply(this,arguments)},name:"longUrl",type:"text",className:"search-txt",placeholder:"Your link here...",value:a.value,required:!0}),r.a.createElement("button",{type:"submit",className:"search-btn"},r.a.createElement("i",{className:"fas fa-arrow fa-arrow-right"})))))};function j(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"not-found"},"404"),r.a.createElement(p,null))}var C=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement(N,null),r.a.createElement("div",{className:"container"},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/link/"},r.a.createElement(w,null)),r.a.createElement(d.b,{exact:!0,path:"/"},r.a.createElement(S,null)),r.a.createElement(d.b,{component:j}))),r.a.createElement("footer",{className:"invert"},r.a.createElement("p",{className:"footer-text"},r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://www.ablin.dev"},"@ablin42"))))}}]),a}(n.Component);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root"))},9:function(e,t,a){}},[[35,1,2]]]);
//# sourceMappingURL=main.f4c5b245.chunk.js.map