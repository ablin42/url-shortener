(this["webpackJsonpurl-shortener"]=this["webpackJsonpurl-shortener"]||[]).push([[0],{16:function(e,t,a){},35:function(e,t,a){e.exports=a(64)},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(26),c=a.n(l),o=(a(16),a(27)),i=a(28),m=a(34),s=a(33),u=a(11),d=a.n(u),h=a(29),p=a(9),f=a(1),E=a(32),v=a(30),b=a.n(v),g=a(12),y=a.n(g);function k(){var e=Object(n.useState)({isDarkMode:!1}),t=Object(p.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){var e=null!==localStorage.getItem("themeSwitch")&&"dark"===localStorage.getItem("themeSwitch"),t=document.querySelector("input[name=theme]");t&&(t.checked=e),e?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme")}));var c=function(){document.documentElement.classList.add("transition"),window.setTimeout((function(){document.documentElement.classList.remove("transition")}),750)};return r.a.createElement("div",{className:"toggle-container"},r.a.createElement("input",{onChange:function(){l({isDarkMode:!a.isDarkMode}),a.isDarkMode?(c(),localStorage.setItem("themeSwitch","dark"),document.documentElement.setAttribute("data-theme","dark")):(c(),localStorage.removeItem("themeSwitch"),document.documentElement.setAttribute("data-theme","light"))},type:"checkbox",id:"toggler",name:"theme"}),r.a.createElement("label",{htmlFor:"toggler"},"Toggle"))}function N(){var e=Object(n.useState)({value:"",errorMsg:""}),t=Object(p.a)(e,2),a=t[0],l=t[1];function c(){var e="",t=a.value.trim();return b.a.isWebUri(t)||(e="URL not properly formatted"),e}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hero-text"},r.a.createElement("h1",{className:"heroAnim"},"Dead simple URL shortener"),r.a.createElement("h2",{className:"heroAnim"},"Copy and paste your link below")),r.a.createElement("h1",null,a.errorMsg),r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("form",{method:"POST",action:"/",onSubmit:function(e){e.preventDefault();var t=a.value;y.a.post("/api/url/shorten",{longUrl:t}).then((function(e){window.location.href="/link/"+e.data.urlCode,console.log(e)})).catch((function(e){console.log(e)}))},className:"shorten-form"},r.a.createElement("input",{onChange:function(e){var t=e.target.value,a=document.querySelector(".search-btn");t.length>0&&a?(a.style.opacity="1",a.style.transform="rotate(0deg)"):(a.style.opacity="0",a.style.transform="rotate(45deg)"),l({value:e.target.value,errorMsg:c()})},name:"longUrl",type:"text",className:"search-txt",placeholder:"Your link here...",value:a.value,required:!0}),r.a.createElement("button",{type:"submit",className:"search-btn"},r.a.createElement("i",{className:"fas fa-arrow fa-arrow-right"})))))}function w(){return r.a.createElement("form",{action:"/"},r.a.createElement("button",{className:"btn-404"},r.a.createElement("i",{className:"fas fa-home fa-2x","aria-hidden":"true"})))}function S(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"not-found"},"404"),r.a.createElement(w,null))}function x(e){var t=e.id,a=e.longUrl,n=e.shortUrl;function l(e){e.preventDefault();var t=document.querySelector("#clipper").value,a=document.querySelector(".tooltiptext");a&&!a.classList.contains("tooltip-visible")&&(a.classList.add("tooltipAnim"),a.classList.add("tooltip-visible"),setTimeout((function(){a&&(a.classList.remove("tooltip-visible"),a.classList.remove("tooltipAnim"))}),1e3)),function(e){var t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}(t)}return r.a.createElement("div",{className:"url-container"},r.a.createElement("div",{className:"clipboard-wrapper"},r.a.createElement("div",{className:"tooltip"},r.a.createElement("h2",{"data-clipboard":"",onClick:l},"Copy to clipboard"),r.a.createElement("a",{"data-clipboard":"",onClick:l,href:"./#"},r.a.createElement("i",{className:"fas fa-copy"})),r.a.createElement("span",{className:"tooltiptext"},"Copied!"))),r.a.createElement("a",{target:"_blank",href:a,rel:"noopener noreferrer",className:"shortened-link heroAnim"},"xs-url.fr/",t),r.a.createElement("input",{type:"hidden",value:"http://"+n,id:"clipper"}),r.a.createElement(w,null))}function O(){var e=Object(n.useState)({_id:"",longUrl:"",shortUrl:"",urlCode:"",date:"",createdAt:"",updatedAt:"",__v:0}),t=Object(p.a)(e,2),a=t[0],l=t[1],c=Object(f.g)().id;return Object(n.useEffect)((function(){function e(){return(e=Object(h.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="/api/url/"+c,e.next=4,y.a.get(t);case 4:a=e.sent,l(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),window.location.href="/";case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]),a._id.length?r.a.createElement(x,{id:a._id,longUrl:a.longUrl,shortUrl:a.shortUrl}):r.a.createElement("div",{className:"hero-text"},r.a.createElement("h1",{className:""},"Loading..."))}function j(){var e=Object(f.h)();return r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"".concat(e.url,"/:id")},r.a.createElement(O,null)),r.a.createElement(f.b,{path:e.path},r.a.createElement(f.a,{to:"/"})))}var C=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(E.a,null,r.a.createElement(k,null),r.a.createElement("div",{className:"container"},r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/link/"},r.a.createElement(j,null)),r.a.createElement(f.b,{exact:!0,path:"/"},r.a.createElement(N,null)),r.a.createElement(f.b,{component:S}))),r.a.createElement("footer",{className:"invert"},r.a.createElement("p",{className:"footer-text"},r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://www.ablin.dev"},"@ablin42"))))}}]),a}(n.Component);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.3aa6e451.chunk.js.map